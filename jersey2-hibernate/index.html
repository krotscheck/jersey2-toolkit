<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.4 at 2014-07-09 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>jersey2-hibernate - jersey2-hibernate</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20140709" />
    <meta http-equiv="Content-Language" content="en" />
                                                    
<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-52636237-1', 'auto');
                ga('send', 'pageview');</script>
                      
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                jersey2-hibernate
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2014-07-09</span>
                  &nbsp;| <span id="projectVersion">Version: 1.1.5</span>
                      </div>
            <div class="xright">        
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                                    <h5>Parent Project</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="jersey2-toolkit">jersey2-toolkit</a>
            </li>
          </ul>
                       <h5>Manual</h5>
                  <ul>
                  <li class="none">
            <strong>Introduction</strong>
          </li>
                  <li class="none">
                          <a href="../contributing.html" title="Contributing">Contributing</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                                                        <li class="expanded">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                    <ul>
                      <li class="none">
            <strong>About</strong>
          </li>
                      <li class="none">
                          <a href="plugin-management.html" title="Plugin Management">Plugin Management</a>
            </li>
                      <li class="none">
                          <a href="distribution-management.html" title="Distribution Management">Distribution Management</a>
            </li>
                      <li class="none">
                          <a href="dependency-info.html" title="Dependency Information">Dependency Information</a>
            </li>
                      <li class="none">
                          <a href="dependency-convergence.html" title="Dependency Convergence">Dependency Convergence</a>
            </li>
                      <li class="none">
                          <a href="source-repository.html" title="Source Repository">Source Repository</a>
            </li>
                      <li class="none">
                          <a href="mail-lists.html" title="Mailing Lists">Mailing Lists</a>
            </li>
                      <li class="none">
                          <a href="issue-tracking.html" title="Issue Tracking">Issue Tracking</a>
            </li>
                      <li class="none">
                          <a href="integration.html" title="Continuous Integration">Continuous Integration</a>
            </li>
                      <li class="none">
                          <a href="plugins.html" title="Project Plugins">Project Plugins</a>
            </li>
                      <li class="none">
                          <a href="license.html" title="Project License">Project License</a>
            </li>
                      <li class="none">
                          <a href="team-list.html" title="Project Team">Project Team</a>
            </li>
                      <li class="none">
                          <a href="project-summary.html" title="Project Summary">Project Summary</a>
            </li>
                      <li class="none">
                          <a href="dependencies.html" title="Dependencies">Dependencies</a>
            </li>
              </ul>
        </li>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <h1>jersey2-hibernate</h1>
<p>This library provides HK2 injectors and container lifecycle components for common Hibernate functionality. This feature <b>does not</b> contain the jersey dependencies, nor does it contain any hibernate database adapters. We recommend using jersey 2.11 or later, as there are HK2 injection bugs in previous versions that prevent both session scoped and singleton scoped items from being properly destroyed.</p>
<div class="section">
<h2>Injectors<a name="Injectors"></a></h2>

<ul>
  
<li><b>org.hibernate.Session</b> <br /><small><i>Request scoped</i>. This library assumes that a session is created per service request, and destroyed afterwards. If you want to create a session outside of a request scope, we recommend you inject the SessionFactory.</small></li>
  
<li><b>org.hibernate.SessionFactory</b> <br /><small><i>Singleton scoped</i>. If you would like to have finer control over when a session is created, you may inject the SessionFactory yourself.</small></li>
  
<li><b>org.hibernate.cfg.Configuration</b> <br /><small><i>Singleton scoped</i>. While available for injection, the injection chain is such that you cannot guarantee that modifications to the configuration will persist to the session factory. Instead, please modify your hibernate configuration.</small></li>
  
<li><b>org.hibernate.search.FullTextSession</b> <br /><small><i>Request scoped</i>. This hibernate-search component is built off of the session factory. Useful for fulltext searches.</small></li>
  
<li><b>org.hibernate.search.SearchFactory</b> <br /><small><i>Request scoped</i>. This hibernate-search component is built off of the session factory. It is also frequently needed for fulltext searches using Hibernate Search.</small></li>
</ul></div>
<div class="section">
<h2>Lifecycle Containers<a name="Lifecycle_Containers"></a></h2>

<ul>
  
<li><b>net.krotscheck.jersey2.hibernate.lifecycle.SearchIndexContextListener</b><br /><small>This container lifecycle listener will trigger a rebuild of the search index whenever the servlet container is restarted.</small></li>
</ul></div>
<div class="section">
<h2>Getting Started<a name="Getting_Started"></a></h2>
<p>Here are the basic steps necessary to get this feature working in your jersey2 application.</p>
<div class="section">
<h3>1: Enable the maven repository<a name="a1:_Enable_the_maven_repository"></a></h3>
<p>The jersey2-hibernate feature is published to a maven repository on github. You can enable the repository with the following in your <tt>pom.xml</tt>.</p>

<div class="source">
<pre>&lt;repositories&gt;
    ...
    &lt;repository&gt;
       &lt;id&gt;jersey2-toolkit&lt;/id&gt;
        &lt;url&gt;https://krotscheck.github.com/jersey2-toolkit/repo&lt;/url&gt;
    &lt;/repository&gt;
    ...
&lt;/repositories&gt;
</pre></div></div>
<div class="section">
<h3>2: Add the dependency<a name="a2:_Add_the_dependency"></a></h3>

<div class="source">
<pre>&lt;dependencies&gt;
    ...
    &lt;dependency&gt;
       &lt;groupId&gt;net.krotscheck.jersey2&lt;/groupId&gt;
       &lt;artifactId&gt;jersey2-hibernate&lt;/artifactId&gt;
        &lt;version&gt;${project.version}&lt;/version&gt;
    &lt;/dependency&gt;
    ...
&lt;/dependencies&gt;
</pre></div></div>
<div class="section">
<h3>3: Enable the feature in your application<a name="a3:_Enable_the_feature_in_your_application"></a></h3>

<div class="source">
<pre>import net.krotscheck.jersey2.hibernate.HibernateFeature;
import org.glassfish.jersey.server.ResourceConfig;

public class YourApplication extends ResourceConfig {
    public YourApplication() {
        register(HibernateFeature.class);
    }
}
</pre></div></div>
<div class="section">
<h3>4: Configure Hibernate<a name="a4:_Configure_Hibernate"></a></h3>
<p>The configuration of hibernate is beyond the scope of this document, we recommend you read the sections on <a class="externalLink" href="http://docs.jboss.org/hibernate/core/3.3/reference/en-US/html/session-configuration.html">hibernate configuration</a> for both <tt>/src/main/resources/hibernate.properties</tt> and <tt>/src/main/resources/hibernate.cfg.xml</tt>.</p></div>
<div class="section">
<h3>5: Inject hibernate components<a name="a5:_Inject_hibernate_components"></a></h3>
<p>At this point, hibernate components are available to inject into your jersey2 services. Here is an example service. </p>

<div class="source">
<pre>@Path(&quot;/path&quot;)
public class MyService {

    @Inject
    public Session session;

    @Inject
    public FullTextSession ftSession;

    @Inject
    public SessionFactory sessionFactory;

    @GET
    @Produces(MediaType.APPLICATION_JSON)
    public Response getMethod() {
       return Response.ok().build();
    }
}
</pre></div></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2014
                        <a href="http://www.krotscheck.net">krotscheck.net</a>.
            All Rights Reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
